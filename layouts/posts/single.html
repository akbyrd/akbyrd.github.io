{{- define "head" }}
	{{- if .Page.Store.Get "hasMermaid" }}

	<script type="module">
		import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
		mermaid.initialize({ startOnLoad: true });
	</script>
	{{- end }}
{{- end }}

{{- define "main" }}
{{- if not (or .Draft .Date) }}
{{- errorf "Non-draft posts must have a date. File: %s" .File.Path }}
{{- end }}
{{- if not (or .Draft .Summary) }}
{{- errorf "Non-draft posts must have a summary. File: %s" .File.Path }}
{{- end }}

		{{ partial "post-title" . }}
		{{ .Content }}
{{- end }}
